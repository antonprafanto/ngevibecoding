---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import ModuleCard from '../../components/ModuleCard.astro';
import { getCollection } from 'astro:content';

// Get all modules
const modules = await getCollection('modules');
const sortedModules = modules.sort((a, b) => a.data.order - b.data.order);

const title = "Semua Modul | Vibe Coding";
const description = "6 modul pembelajaran coding dengan AI - dari mindset builder sampai monetization. Dirancang untuk pemula yang ingin hasil nyata.";
---

<BaseLayout title={title} description={description}>
  <Navbar />
  
  <main class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <!-- Header -->
    <section class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="font-heading text-4xl md:text-5xl font-bold mb-6">
            6 Modul Pembelajaran
          </h1>
          <p class="text-xl text-blue-100 max-w-3xl mx-auto mb-8">
            Journey lengkap dari awam total sampai bisa monetize aplikasi digital. 
            Setiap modul dirancang untuk memberikan hasil yang langsung bisa kamu gunakan.
          </p>
          
          <!-- Progress Overview -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto">
            <div class="bg-white/10 rounded-lg p-4">
              <div class="text-2xl font-bold">4-15 jam</div>
              <div class="text-sm text-blue-100">Total durasi</div>
            </div>
            <div class="bg-white/10 rounded-lg p-4">
              <div class="text-2xl font-bold">90%</div>
              <div class="text-sm text-blue-100">Hands-on</div>
            </div>
            <div class="bg-white/10 rounded-lg p-4">
              <div class="text-2xl font-bold">3+</div>
              <div class="text-sm text-blue-100">Aplikasi real</div>
            </div>
            <div class="bg-white/10 rounded-lg p-4">
              <div class="text-2xl font-bold">âˆž</div>
              <div class="text-sm text-blue-100">Gratis selamanya</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Learning Path Visualization -->
    <section class="py-16 bg-white dark:bg-gray-800">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="font-heading text-3xl font-bold text-gray-900 dark:text-white mb-4">
            Learning Path Progresif
          </h2>
          <p class="text-lg text-gray-600 dark:text-gray-300">
            Setiap modul membangun di atas yang sebelumnya
          </p>
        </div>

        <!-- Learning Path Flow -->
        <div class="flex flex-col lg:flex-row items-center justify-between space-y-6 lg:space-y-0 lg:space-x-6 mb-16">
          <div class="flex flex-col items-center text-center max-w-xs">
            <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-4">1-2</div>
            <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Foundation</h3>
            <p class="text-sm text-gray-600 dark:text-gray-300">Mindset shift dan AI collaboration skills</p>
          </div>

          <svg class="w-8 h-8 text-gray-400 transform rotate-90 lg:rotate-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>

          <div class="flex flex-col items-center text-center max-w-xs">
            <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-4">3</div>
            <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Building</h3>
            <p class="text-sm text-gray-600 dark:text-gray-300">Hands-on aplikasi development dengan AI</p>
          </div>

          <svg class="w-8 h-8 text-gray-400 transform rotate-90 lg:rotate-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>

          <div class="flex flex-col items-center text-center max-w-xs">
            <div class="w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-4">4</div>
            <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Production</h3>
            <p class="text-sm text-gray-600 dark:text-gray-300">Security, monitoring, dan optimization</p>
          </div>

          <svg class="w-8 h-8 text-gray-400 transform rotate-90 lg:rotate-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>

          <div class="flex flex-col items-center text-center max-w-xs">
            <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-4">5-6</div>
            <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Business</h3>
            <p class="text-sm text-gray-600 dark:text-gray-300">Analytics, growth, dan monetization</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modules Grid -->
    <section class="py-16 bg-gray-50 dark:bg-gray-900">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {sortedModules.map((module) => (
            <ModuleCard
              title={module.data.title}
              summary={module.data.summary}
              duration={module.data.duration}
              level={module.data.level}
              order={module.data.order}
              slug={module.slug}
            />
          ))}
        </div>

        <!-- Start Learning CTA -->
        <div class="mt-16 text-center">
          <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white">
            <h3 class="font-heading text-2xl md:text-3xl font-bold mb-4">
              Ready untuk Memulai?
            </h3>
            <p class="text-xl mb-8 text-blue-100">
              Mulai dengan Modul 1 dan ikuti journey sampai selesai
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
              <a 
                href={`${import.meta.env.BASE_URL}/modules/module-1-foundations`}
                class="inline-flex items-center px-8 py-4 bg-white hover:bg-gray-100 text-blue-600 font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"
              >
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                Mulai Modul 1
              </a>
              <a 
                href={import.meta.env.BASE_URL}
                class="inline-flex items-center px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg transition-colors border border-white/20"
              >
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Kembali ke Home
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>